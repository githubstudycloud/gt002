# Claude Relay Service 环境配置文件
# 复制此文件为 .env 并填写实际配置

# ============================================
# 基础配置
# ============================================
# 服务绑定地址 (0.0.0.0=所有网卡, 127.0.0.1=仅本地)
BIND_HOST=0.0.0.0
# 服务端口
PORT=3000

# ============================================
# 安全配置 (必填项)
# ============================================
# JWT密钥 - 至少32字符的随机字符串
# 生成方法: openssl rand -base64 32
JWT_SECRET=

# 加密密钥 - 必须是32字符
# 生成方法: openssl rand -hex 16
ENCRYPTION_KEY=

# 管理员会话超时时间（毫秒）
ADMIN_SESSION_TIMEOUT=86400000

# API Key 前缀
API_KEY_PREFIX=cr_

# ============================================
# 管理员账户 (可选，留空则自动生成)
# ============================================
ADMIN_USERNAME=
ADMIN_PASSWORD=

# ============================================
# Redis 配置
# ============================================
# Redis 密码（可选，建议设置）
REDIS_PASSWORD=

# Redis 数据库编号
REDIS_DB=0

# ============================================
# Claude API 配置
# ============================================
# Claude API 地址（一般无需修改）
CLAUDE_API_URL=https://api.anthropic.com/v1/messages

# Claude API 版本
CLAUDE_API_VERSION=2023-06-01

# Claude Beta 功能头
CLAUDE_BETA_HEADER=claude-code-20250219,oauth-2025-04-20,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14

# ============================================
# 代理与限制配置
# ============================================
# 代理超时时间（毫秒）
DEFAULT_PROXY_TIMEOUT=60000

# 最大重试次数
MAX_PROXY_RETRIES=3

# 默认 Token 限制
DEFAULT_TOKEN_LIMIT=1000000

# ============================================
# 日志配置
# ============================================
# 日志级别: error, warn, info, debug
LOG_LEVEL=info

# 单个日志文件最大大小
LOG_MAX_SIZE=10m

# 保留的日志文件数量
LOG_MAX_FILES=5

# ============================================
# 系统配置
# ============================================
# 清理任务间隔（毫秒）
CLEANUP_INTERVAL=3600000

# Token 使用记录保留时间（毫秒）
TOKEN_USAGE_RETENTION=2592000000

# 健康检查间隔（毫秒）
HEALTH_CHECK_INTERVAL=60000

# 时区偏移（小时，中国为8）
TIMEZONE_OFFSET=8

# ============================================
# Web 界面配置
# ============================================
WEB_TITLE=Claude Relay Service
WEB_DESCRIPTION=Multi-account Claude API relay service

# ============================================
# 开发配置
# ============================================
# 调试模式
DEBUG=false

# 启用 CORS
ENABLE_CORS=true

# 信任代理
TRUST_PROXY=true
